#### ☑ 任务

更新你的代码生成（code-generation）阶段，为`！`、`~`和`-`操作生成正确的汇编代码。它应该为所有step1和step2示例生成正确的汇编。

#### （思考题）汇编代码优化

现在对于 "~-3"，我们会生成这样的汇编代码.

```asm
lw t0, 0(sp) 
neg t0, t0
sw t0, 0(sp) 
lw t0, 0(sp) 
not t0, t0
sw t0, 0(sp) 
```

其中显然存在冗余，如何进一步优化呢？简述你的想法。

参考答案：当前结果不入栈，默认上一步结果在 t0 中

#### （思考题）寄存器数量

不考虑函数、变量等复杂结构，栈式机运算过程（仅考虑计算一个表达式的过程，不需要考虑复杂的语句）中最多会用到几个寄存器？